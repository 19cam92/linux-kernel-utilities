
xprofile(){
    echo -e "${Yellow}Automatic kernel compilation by profile started${Reg}"
	$SUDO echo
    chk_sudoer
    #sudobg check_deps #1>/dev/null 2>/dev/null 
    sudobg check_deps
    #echo "BGPID ${BGPID}"
    #spinner $BGPID  "Managing dependencies . . ."
    #wait $BGPID

    clearline
  
    if ! check_qt 1>/dev/null 2>/dev/null; then \
        sudobg apt-get -qq install qt5-default
        spinner $BGPID "Installing QT5 default package . . ."
        wait $BGPID
    fi
    
    select_kernel_deb
    get_kernel_archive
    
    check_sign add #1>/dev/null 2>/dev/null &
    #spinner $! "Validating . . ."
    #wait $!
    clearline
    
    mkdir $CMP_FLDR
    tar xf $OUTPUT -C ./$CMP_FLDR &
    spinner $! "Extracting . . ."
    wait $!
    clearline
    
    pushd $CMP_FLDR/linux* 1>/dev/null 2>/dev/null
	make $KRNL_CONFIG 1>/dev/null 2>/dev/null &
    spinner $! "Configuring . . ."
    wait $!
    clearline
    
    fakeroot make-kpkg clean 1>/dev/null 2>/dev/null &
    spinner $! "Cleaning . . ."
    wait $!
    clearline
    
    make-kpkg --rootcmd fakeroot --initrd --append-to-version=$VERAPPEND kernel_image kernel_headers 1>/dev/null 2>/dev/null &
    spinner $! "Compiling . . ."
    wait $!
    clearline
    
    cleanup
    popd 1>/dev/null 2>/dev/null

    echo -e $'\a' && notify-send -i emblem-default "Kernel compliation completed."
    echo -e "Compilation finished"

    exit 0
    
}
